<!doctype html>
<html lang="en">
  
 <head>
    <title>Calc</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie-edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
 </head>

 <body>
 <section id="main">
 	<div class="container">
 		<div class="row">
 			<div class="col-sm-4">
 				<div class="calc">
 					<h2>Рассчет стоимости</h2>
 					<label for="card_edition">Выберите тираж</label><br>
 					<select class="form-control" name="edition" id="card_edition">
 						<option value="90">90</option>
 						<option value="120">120</option>
 						<option value="150">150</option>
 						<option value="180">180</option>
 						<option value="210">210</option>
 						<option value="240">240</option>
 						<option value="270">270</option>
 						<option value="300">300</option>
 						<option value="360">360</option>
 						<option value="420">420</option>
 						<option value="510">510</option>
 						<option value="600">600</option>
 						<option value="900">900</option>
 						<option value="1020">1020</option>
 						<option value="1500">1500</option>
 						<option value="3000">3000</option>
 					</select>
 					<br>
 					<label for="card-paper">Выберите бумагу</label>
 					<select name="card-paper" id="card-paper" class="form-control">
 						<option data-paper-ratio='6.8' value="Мелованная белая бумага">Мелованная белая бумага</option>
 						<option data-paper-ratio='40.5' value="Бумага повышенной белизны">Бумага повышенной белизны</option>
 						<option data-paper-ratio='45' value="Престиж Лен">Престиж Лен</option>
 					</select>
 					<br>
 					<label for="card-color">Выберите цветность</label>
 					<select name="card-color" id="card-color" class="form-control">
 						<option data-print='14' data-print-file='110' data-color="1" value="Односторонняя черно-белая">Односторонняя черно-белая</option>
 						<option data-print='28' data-print-file='220' data-color="2" value="Двусторонняя черно-белая">Двусторонняя черно-белая</option>
 						<option data-print='37' data-print-file='110' data-color="3" value="Односторонняя цветная">Односторонняя цветная</option>
 						<option data-print='51' data-print-file='220' data-color="4" value="Цветная с лицевой">Цветная с лицевой</option>
 						<option data-print='74' data-print-file='220' data-color="5" value="Двусторонняя цветная">Двусторонняя цветная</option>
 					</select>
 					<br>
 					<h4><small>Приблизительная</small><br>Стоимость за тираж</h4>
 					<p class="price">
 						<span id="final_price">0</span>
 					    руб.
 					</p>
 				</div>
 			</div>
 			<div class="col-sm-8">
 				<div class="card-images text-center">
 					<img src="img/1_0.png" alt="" id="card_1_0">
 					<img src="img/1_1.png" alt="" id="card_1_1">
 					<img src="img/4_0.png" alt="" id="card_4_0">
 					<img src="img/4_1.png" alt="" id="card_4.1">
 					<img src="img/4_4.png" alt="" id="card_4.4">
 				</div>
 			</div>
 		</div>
 	</div>
 </section>



    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    
    <script>
    	$(document).ready(function () {
    		$('.calc select').change(function(){
    			$edition = $('select#card_edition').val();
    			$paper = $('select#card-paper').val();
    			$paper_ratio = $('select#card-paper option:selected').attr('data-paper-ratio');
    			$print_file = $('select#card-color option:selected').attr('data-print-file');
    			$print = $('select#card-color option:selected').attr('data-print');
    			$color = $('select#card-color').val();
    			$color_format = $('select#card-color option:selected').attr('data-color');
                $division = 30;
                $final_edition = $edition / $division;
                $price = $final_edition * $paper_ratio + parseInt($print_file) + $final_edition * $print;
                $('span#final_price').text($price);
    			if ($color_format == 1) {
    				$('.card-images img').hide();
    				$('#card_1_0').show('slow');
    			}
    			if ($color_format == 2) {
    				$('.card-images img').hide();
    				$('#card_1_1').show('slow');
    			}
    			if ($color_format == 3) {
    				$('.card-images img').hide();
    				$('#card_4_0').show('slow');
    			}
    			if ($color_format == 4) {
    				$('.card-images img').hide();
    				$('#card_4.1').show('slow');
    			}
    			if ($color_format == 5) {
    				$('.card-images img').hide();
    				$('#card_4.4').show('slow');
    			}
    		})
    	});
    </script>
</body>
</html>